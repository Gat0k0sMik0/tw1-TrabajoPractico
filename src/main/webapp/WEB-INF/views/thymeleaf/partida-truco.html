<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Truco - Partida</title>
    <link rel="stylesheet" th:href="@{/css/partida-truco.css}"/>
    <script th:src="@{/js/seleccionarCarta.js}"></script>
</head>
<body>
    <header>
        <h1 class="texto-bienvenida">PARTIDA DE TRUCO</h1>
        <div class="imagenes">
            <img th:src="@{/img/logos/javalogo.webp}" class="headerImage"/>
            <img th:src="@{/img/logos/springlogo.svg}" class="headerImage"/>
            <div class="division"></div>
            <div><img th:src="@{/img/logos/unlamsinfondo.svg}" class="headerImage"/></div>
        </div>
    </header>

    <main>
        <h3 th:text="${Jugador2 != null ? 'Tu contrincante es ' + Jugador2.nombre : 'Esperando Rival...'}"></h3>

        <div id="mesa">
                <div id="cartas-contrincante">
                    <ul class="disposicion-cartas" style="list-style-type: none;">
                        <li th:each="carta : ${cartasJugador2}">
                            <img th:src="@{${carta.img}}" alt="Carta" />
                        </li>
                    </ul>
                </div>

                <div id="cartas-en-juego">
                    <a th:href="@{/comenzar-partida-truco}">
                        <img id="mazo"  th:src="@{/img/cartas-truco/mazo2.png}" alt="Mazo de Cartas">
                    </a>
                    <img id="cartaRival" th:src="@{/img/cartas-truco/Carta_Atras.png}" alt="Carta Jugada Rival">
                    <img id="miCarta" th:if="${cartaTirada != null}"
                         th:src="@{${cartaTirada.img}}"
                         alt="Mi Carta Jugada" />
                </div>

                <div id="mis-cartas">
                    <ul class="disposicion-cartas" style="list-style-type: none;">
                        <li th:each="carta : ${cartasJugador1}">
                            <img th:src="@{${carta.img}}" alt="Carta" th:attr="data-id=${carta.id}"  class="carta" onclick="seleccionarCarta(this)" />
                        </li>
                    </ul>
                </div>

            <form method="POST">
                <input type="hidden" name="idCartaSeleccionada" id="idCartaSeleccionada"/>
                <div id="botones" th:if="${partidaIniciada} == true">
                    <!--cada boton lleva a una url distinta-->
                    <button type="submit" th:formaction="@{/tirar-carta}">Tirar carta</button>
                    <button type="button">Envido</button>
                    <button type="button">Tanto</button>
                    <button type="button">Irme al mazo</button>
                </div>
            </form>



        </div>
    </main>

    <!-- Footer -->
    <footer>
        <div class="footer-container">
            <p>&copy; 2024 UNLAM. Todos los derechos reservados.</p>
            <div class="footer-alumnos">
                <p>Lucas Gavagnin |  </p>
                <p>Gonzalo Ramos |  </p>
                <p>Martin Zaccardo |  </p>
                <p>Franco Vargas | </p>
                <p>Victoria Croce </p>
            </div>
        </div>
    </footer>

</body>
</html>